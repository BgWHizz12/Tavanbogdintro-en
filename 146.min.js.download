(window.webpackJsonp=window.webpackJsonp||[]).push([[146],{154:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"ContentSticky",(function(){return u}));var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(l,t);var e,n,i,a=r(l);function l(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(n=a.call(this,t,e)).blockCssClass_=n.config_.blockCssClass,n.heading_=null,n.cover_=null,n.copy_=null,n.secondaryImage_=null,n.stopDistance_=0,n.isSecondary_=n.config_.isSecondary,n.lastKnownScrollPosition_=0,n.trackElement_=n.trackElement_.bind(c(n)),n.untrackElement_=n.untrackElement_.bind(c(n)),n.handleScroll_=n.handleScroll_.bind(c(n)),n.handleWindowResizeEnd_=n.handleWindowResizeEnd_.bind(c(n)),n.refreshStopDistance_=n.refreshStopDistance_.bind(c(n)),n.updateHeadingDistance_=n.updateHeadingDistance_.bind(c(n)),n}return e=l,(n=[{key:"initialize_",value:function(){var t=this;this.subscriptions_=[[this.topics_.WINDOW_RESIZE_ENDED,this.handleWindowResizeEnd_]],this.heading_=this.element.querySelector(".".concat(this.blockCssClass_,"__heading")),this.cover_=this.element.querySelector(".".concat(this.blockCssClass_,"__cover")),this.copy_=this.element.querySelector(".".concat(this.blockCssClass_,"__copy")),this.secondaryImage_=this.element.querySelector(".".concat(this.blockCssClass_,"__secondary-image")),this.alignments_={small:function(){return t.cover_.offsetHeight},medium:function(){return t.cover_.offsetHeight},large:function(){return t.getLargeAlignment_()},"extra-large":function(){return t.getLargeAlignment_()}},this.stopDistance_=0,this.trackComponentVisibility_(this.trackElement_,this.untrackElement_,{},!1),this.updateHeadingDistance_(this.store_.state.currentScrollPosition)}},{key:"getLargeAlignment_",value:function(){return this.target_=this.copy_?this.copy_:this.secondaryImage_,this.targetHeight_=this.isSecondary_?this.target_.offsetHeight/1.3:this.target_.offsetHeight,Math.abs(this.target_.offsetTop+this.targetHeight_-this.getHeadingPosition_())}},{key:"getHeadingPosition_",value:function(){var t=this.global_.getComputedStyle(this.heading_.parentElement),e=this.heading_.offsetHeight;return 1*t.getPropertyValue("padding-top").slice(0,-2)+e}},{key:"refreshStopDistance_",value:function(){var t=this.alignments_[this.store_.state.currentBreakpoint];this.stopDistance_=t()}},{key:"trackElement_",value:function(){this.store_.subscribe([[this.topics_.SCROLL_POSITION_CHANGE,this.handleScroll_]]),this.refreshStopDistance_()}},{key:"untrackElement_",value:function(){this.store_.unsubscribe(this.topics_.SCROLL_POSITION_CHANGE,this.handleScroll_)}},{key:"handleScroll_",value:function(t){this.updateHeadingDistance_(t)}},{key:"handleWindowResizeEnd_",value:function(t){t.isVerticalResize&&this.updateHeadingDistance_(this.store_.state.currentScrollPosition)}},{key:"updateHeadingDistance_",value:function(t){this.refreshStopDistance_(),this.lastKnownScrollPosition_=t;var e=0;this.lastKnownScrollPosition_>this.element.offsetTop&&(e=this.lastKnownScrollPosition_-this.element.offsetTop),e>this.stopDistance_&&(e=this.stopDistance_),this.setHeadingTransformProperty_(e),this.setHeadingHeightValue_()}},{key:"setHeadingTransformProperty_",value:function(t){this.heading_.style.setProperty("transform","translate3d(0, ".concat(t,"px, 0)")),0===t||t===this.stopDistance_?this.heading_.style.removeProperty("will-change"):this.heading_.style.setProperty("will-change","transform")}},{key:"setHeadingHeightValue_",value:function(){this.element.style.setProperty("--heading-height","".concat(this.heading_.offsetHeight,"px"))}}])&&o(e.prototype,n),i&&o(e,i),l}(n(3).BaseComponent)}}]);